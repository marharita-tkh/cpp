#include "iostream"
#include "string"
#include "bits/stdc++.h"
#include <windows.h>

using namespace std;

void printInfo();

double getNum1();
double getNum2();
void getOperationResult(double num2, double num1);

double num_1;
double num_2;

int main()
{
    system("chcp 65001");
    SetConsoleOutputCP(CP_UTF8);
    printInfo();
    while (num_1 == NULL){getNum1();}
    while (num_2 == NULL){getNum2();}
    getOperationResult(num_2, num_1);
    return 1;
}

void getOperationResult(double num2, double num1) {
    char id_text;
    cout << "Введите операцию ('+', '-', '*', '/'):" << endl;
    cin >> id_text;
    switch (id_text) {
        case '+': {cout << to_string(num1) + " + " + to_string(num2) + " = " + to_string(num1 + num2);break;}
        case '-': {cout << to_string(num1) + " - " + to_string(num2) + " = " + to_string(num1 - num2);break;}
        case '*': {cout << to_string(num1) + " * " + to_string(num2) + " = " + to_string(num1 * num2);break;}
        case '/': {cout << to_string(num1) + " * " + to_string(num2) + " = " + to_string(num1 / num2);break;}
        default: {cout << "Неизвестная операция";}
    }
}

double getNum1()
{
    string num_1_text;
    cout << "Введите первое число:" << endl;
    cin >> num_1_text;
    bool isValid = true;
    try {stod(num_1_text);}
    catch (invalid_argument) {
        cout << "Что-то не так" << endl;
        isValid = false;}
    if (isValid) {num_1 = stod(num_1_text);}
    return num_1;
}

double getNum2()
{
    string num_2_text;
    cout << "Введите второе число:" << endl;
    cin >> num_2_text;
    bool isValid = true;
    try {stod(num_2_text);}
    catch (invalid_argument) {
        cout << "Что-то не так" << endl;
        isValid = false;}
    if (isValid) {num_2 = stod(num_2_text);}
    return num_2;
}



void printInfo() {
    cout
            <<"Калькулятор"
            <<endl
            <<"Список операций:"
            <<endl
            <<"    + <- сложить"
            <<endl
            <<"    - - вычесть"
            <<endl
            <<"    * - умножить"
            <<endl
            <<"    / - делить"
            <<endl

            ;
}
